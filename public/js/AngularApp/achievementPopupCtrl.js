'use strict';

angular.module('app.controllers').controller('achievementPopupCtrl', function ($scope, $timeout, $window) {
  var vm = this;
  var audio = new Audio('sound/achievement.mp3');
  var displayPopup = false;
  vm.displayPopup = function () {
    return displayPopup;
  };
  vm.isMac = function () {
    return $window.navigator.platform === 'MacIntel';
  };
  $scope.$on('achievementPopup', function (event, achievementObj) {
    // Make this into a queue? Doesn't show both achievements if they hit simultaneously
    vm.title = achievementObj.title;
    displayPopup = true;
    audio.play();
    $timeout(function () {
      displayPopup = false;
    }, 4000);
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFuZ3VsYXJBcHAvYWNoaWV2ZW1lbnRQb3B1cEN0cmwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxPQUFPLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLENBQ2hDLFVBQVUsQ0FBQyxzQkFBc0IsRUFBRSxVQUFTLE1BQU0sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFO0FBQ3RFLE1BQUksRUFBRSxHQUFHLElBQUksQ0FBQztBQUNkLE1BQUksS0FBSyxHQUFHLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7QUFDL0MsTUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDO0FBQ3pCLElBQUUsQ0FBQyxZQUFZLEdBQUcsWUFBWTtBQUM1QixXQUFPLFlBQVksQ0FBQztHQUNyQixDQUFBO0FBQ0QsSUFBRSxDQUFDLEtBQUssR0FBRyxZQUFZO0FBQ3JCLFdBQU8sT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEtBQUssVUFBVSxDQUFDO0dBQ2xELENBQUE7QUFDRCxRQUFNLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFLFVBQVUsS0FBSyxFQUFFLGNBQWMsRUFBRTs7QUFFOUQsTUFBRSxDQUFDLEtBQUssR0FBRyxjQUFjLENBQUMsS0FBSyxDQUFDO0FBQ2hDLGdCQUFZLEdBQUcsSUFBSSxDQUFDO0FBQ3BCLFNBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNiLFlBQVEsQ0FBQyxZQUFZO0FBQ25CLGtCQUFZLEdBQUcsS0FBSyxDQUFDO0tBQ3RCLEVBQUUsSUFBSSxDQUFDLENBQUM7R0FDVixDQUFDLENBQUE7Q0FDSCxDQUFDLENBQUEiLCJmaWxlIjoiQW5ndWxhckFwcC9hY2hpZXZlbWVudFBvcHVwQ3RybC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ2FjaGlldmVtZW50UG9wdXBDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgJHdpbmRvdykge1xuICB2YXIgdm0gPSB0aGlzO1xuICB2YXIgYXVkaW8gPSBuZXcgQXVkaW8oJ3NvdW5kL2FjaGlldmVtZW50Lm1wMycpO1xuICB2YXIgZGlzcGxheVBvcHVwID0gZmFsc2U7XG4gIHZtLmRpc3BsYXlQb3B1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGlzcGxheVBvcHVwO1xuICB9XG4gIHZtLmlzTWFjID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAkd2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSA9PT0gJ01hY0ludGVsJztcbiAgfVxuICAkc2NvcGUuJG9uKCdhY2hpZXZlbWVudFBvcHVwJywgZnVuY3Rpb24gKGV2ZW50LCBhY2hpZXZlbWVudE9iaikge1xuICAgIC8vIE1ha2UgdGhpcyBpbnRvIGEgcXVldWU/IERvZXNuJ3Qgc2hvdyBib3RoIGFjaGlldmVtZW50cyBpZiB0aGV5IGhpdCBzaW11bHRhbmVvdXNseVxuICAgIHZtLnRpdGxlID0gYWNoaWV2ZW1lbnRPYmoudGl0bGU7XG4gICAgZGlzcGxheVBvcHVwID0gdHJ1ZTtcbiAgICBhdWRpby5wbGF5KCk7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgZGlzcGxheVBvcHVwID0gZmFsc2U7XG4gICAgfSwgNDAwMCk7XG4gIH0pXG59KVxuIl19
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJBbmd1bGFyQXBwL2FjaGlldmVtZW50UG9wdXBDdHJsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ2FjaGlldmVtZW50UG9wdXBDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgJHdpbmRvdykge1xuICB2YXIgdm0gPSB0aGlzO1xuICB2YXIgYXVkaW8gPSBuZXcgQXVkaW8oJ3NvdW5kL2FjaGlldmVtZW50Lm1wMycpO1xuICB2YXIgZGlzcGxheVBvcHVwID0gZmFsc2U7XG4gIHZtLmRpc3BsYXlQb3B1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGlzcGxheVBvcHVwO1xuICB9XG4gIHZtLmlzTWFjID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAkd2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSA9PT0gJ01hY0ludGVsJztcbiAgfVxuICAkc2NvcGUuJG9uKCdhY2hpZXZlbWVudFBvcHVwJywgZnVuY3Rpb24gKGV2ZW50LCBhY2hpZXZlbWVudE9iaikge1xuICAgIC8vIE1ha2UgdGhpcyBpbnRvIGEgcXVldWU/IERvZXNuJ3Qgc2hvdyBib3RoIGFjaGlldmVtZW50cyBpZiB0aGV5IGhpdCBzaW11bHRhbmVvdXNseVxuICAgIHZtLnRpdGxlID0gYWNoaWV2ZW1lbnRPYmoudGl0bGU7XG4gICAgZGlzcGxheVBvcHVwID0gdHJ1ZTtcbiAgICBhdWRpby5wbGF5KCk7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgZGlzcGxheVBvcHVwID0gZmFsc2U7XG4gICAgfSwgNDAwMCk7XG4gIH0pXG59KVxuIl0sImZpbGUiOiJBbmd1bGFyQXBwL2FjaGlldmVtZW50UG9wdXBDdHJsLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=