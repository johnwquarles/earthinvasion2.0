'use strict';

angular.module('app.controllers').controller('achievementPopupCtrl', function ($scope, $timeout) {
  var vm = this;
  var audio = new Audio('sound/achievement.mp3');
  var displayPopup = false;
  vm.displayPopup = function () {
    return displayPopup;
  };
  $scope.$on('achievementPopup', function (event, achievementObj) {
    // Make this into a queue? Doesn't show both achievements if they hit simultaneously
    vm.title = achievementObj.title;
    displayPopup = true;
    audio.play();
    $scope.$apply();
    $timeout(function () {
      displayPopup = false;
    }, 4000);
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFuZ3VsYXJBcHAvYWNoaWV2ZW1lbnRQb3B1cEN0cmwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxPQUFPLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLENBQ2hDLFVBQVUsQ0FBQyxzQkFBc0IsRUFBRSxVQUFTLE1BQU0sRUFBRSxRQUFRLEVBQUU7QUFDN0QsTUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDO0FBQ2QsTUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztBQUMvQyxNQUFJLFlBQVksR0FBRyxLQUFLLENBQUM7QUFDekIsSUFBRSxDQUFDLFlBQVksR0FBRyxZQUFZO0FBQzVCLFdBQU8sWUFBWSxDQUFDO0dBQ3JCLENBQUE7QUFDRCxRQUFNLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFLFVBQVUsS0FBSyxFQUFFLGNBQWMsRUFBRTs7QUFFOUQsTUFBRSxDQUFDLEtBQUssR0FBRyxjQUFjLENBQUMsS0FBSyxDQUFDO0FBQ2hDLGdCQUFZLEdBQUcsSUFBSSxDQUFDO0FBQ3BCLFNBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNiLFVBQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNoQixZQUFRLENBQUMsWUFBWTtBQUNuQixrQkFBWSxHQUFHLEtBQUssQ0FBQztLQUN0QixFQUFFLElBQUksQ0FBQyxDQUFDO0dBQ1YsQ0FBQyxDQUFBO0NBQ0gsQ0FBQyxDQUFBIiwiZmlsZSI6IkFuZ3VsYXJBcHAvYWNoaWV2ZW1lbnRQb3B1cEN0cmwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdhY2hpZXZlbWVudFBvcHVwQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQpIHtcbiAgdmFyIHZtID0gdGhpcztcbiAgdmFyIGF1ZGlvID0gbmV3IEF1ZGlvKCdzb3VuZC9hY2hpZXZlbWVudC5tcDMnKTtcbiAgdmFyIGRpc3BsYXlQb3B1cCA9IGZhbHNlO1xuICB2bS5kaXNwbGF5UG9wdXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRpc3BsYXlQb3B1cDtcbiAgfVxuICAkc2NvcGUuJG9uKCdhY2hpZXZlbWVudFBvcHVwJywgZnVuY3Rpb24gKGV2ZW50LCBhY2hpZXZlbWVudE9iaikge1xuICAgIC8vIE1ha2UgdGhpcyBpbnRvIGEgcXVldWU/IERvZXNuJ3Qgc2hvdyBib3RoIGFjaGlldmVtZW50cyBpZiB0aGV5IGhpdCBzaW11bHRhbmVvdXNseVxuICAgIHZtLnRpdGxlID0gYWNoaWV2ZW1lbnRPYmoudGl0bGU7XG4gICAgZGlzcGxheVBvcHVwID0gdHJ1ZTtcbiAgICBhdWRpby5wbGF5KCk7XG4gICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGRpc3BsYXlQb3B1cCA9IGZhbHNlO1xuICAgIH0sIDQwMDApO1xuICB9KVxufSlcbiJdfQ==
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJBbmd1bGFyQXBwL2FjaGlldmVtZW50UG9wdXBDdHJsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ2FjaGlldmVtZW50UG9wdXBDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCkge1xuICB2YXIgdm0gPSB0aGlzO1xuICB2YXIgYXVkaW8gPSBuZXcgQXVkaW8oJ3NvdW5kL2FjaGlldmVtZW50Lm1wMycpO1xuICB2YXIgZGlzcGxheVBvcHVwID0gZmFsc2U7XG4gIHZtLmRpc3BsYXlQb3B1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGlzcGxheVBvcHVwO1xuICB9XG4gICRzY29wZS4kb24oJ2FjaGlldmVtZW50UG9wdXAnLCBmdW5jdGlvbiAoZXZlbnQsIGFjaGlldmVtZW50T2JqKSB7XG4gICAgLy8gTWFrZSB0aGlzIGludG8gYSBxdWV1ZT8gRG9lc24ndCBzaG93IGJvdGggYWNoaWV2ZW1lbnRzIGlmIHRoZXkgaGl0IHNpbXVsdGFuZW91c2x5XG4gICAgdm0udGl0bGUgPSBhY2hpZXZlbWVudE9iai50aXRsZTtcbiAgICBkaXNwbGF5UG9wdXAgPSB0cnVlO1xuICAgIGF1ZGlvLnBsYXkoKTtcbiAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgZGlzcGxheVBvcHVwID0gZmFsc2U7XG4gICAgfSwgNDAwMCk7XG4gIH0pXG59KVxuIl0sImZpbGUiOiJBbmd1bGFyQXBwL2FjaGlldmVtZW50UG9wdXBDdHJsLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=