'use strict';

angular.module('app.run', []).run(function ($rootScope, timeCard, accuracyCard, achievement) {
  $rootScope.socket = io();
  $rootScope.socket.on('time', function (data) {
    timeCard.addTime(data);
    $rootScope.$broadcast('timeReceived');
  });
  $rootScope.socket.on('accuracy', function (data) {
    accuracyCard.addAccuracy(data);
    $rootScope.$broadcast('accuracyReceived');
  });
  $rootScope.socket.on('achievement', function (num) {
    achievement.addAchievement(num);
    $rootScope.$broadcast('achievementReceived');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFuZ3VsYXJBcHAvcnVuLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQzVCLEdBQUcsQ0FBQyxVQUFVLFVBQVUsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLFdBQVcsRUFBRTtBQUM5RCxZQUFVLENBQUMsTUFBTSxHQUFHLEVBQUUsRUFBRSxDQUFDO0FBQ3pCLFlBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxVQUFVLElBQUksRUFBRTtBQUMzQyxZQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3ZCLGNBQVUsQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLENBQUM7R0FDdkMsQ0FBQyxDQUFBO0FBQ0YsWUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLFVBQVUsSUFBSSxFQUFFO0FBQy9DLGdCQUFZLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQy9CLGNBQVUsQ0FBQyxVQUFVLENBQUMsa0JBQWtCLENBQUMsQ0FBQztHQUMzQyxDQUFDLENBQUE7QUFDRixZQUFVLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsVUFBVSxHQUFHLEVBQUU7QUFDakQsZUFBVyxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNoQyxjQUFVLENBQUMsVUFBVSxDQUFDLHFCQUFxQixDQUFDLENBQUM7R0FDOUMsQ0FBQyxDQUFBO0NBQ0gsQ0FBQyxDQUFDIiwiZmlsZSI6IkFuZ3VsYXJBcHAvcnVuLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2FwcC5ydW4nLCBbXSlcbi5ydW4oZnVuY3Rpb24gKCRyb290U2NvcGUsIHRpbWVDYXJkLCBhY2N1cmFjeUNhcmQsIGFjaGlldmVtZW50KSB7XG4gICRyb290U2NvcGUuc29ja2V0ID0gaW8oKTtcbiAgJHJvb3RTY29wZS5zb2NrZXQub24oJ3RpbWUnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHRpbWVDYXJkLmFkZFRpbWUoZGF0YSk7XG4gICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCd0aW1lUmVjZWl2ZWQnKTtcbiAgfSlcbiAgJHJvb3RTY29wZS5zb2NrZXQub24oJ2FjY3VyYWN5JywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBhY2N1cmFjeUNhcmQuYWRkQWNjdXJhY3koZGF0YSk7XG4gICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdhY2N1cmFjeVJlY2VpdmVkJyk7XG4gIH0pXG4gICRyb290U2NvcGUuc29ja2V0Lm9uKCdhY2hpZXZlbWVudCcsIGZ1bmN0aW9uIChudW0pIHtcbiAgICBhY2hpZXZlbWVudC5hZGRBY2hpZXZlbWVudChudW0pO1xuICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnYWNoaWV2ZW1lbnRSZWNlaXZlZCcpO1xuICB9KVxufSk7XG4iXX0=
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJBbmd1bGFyQXBwL3J1bi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnYXBwLnJ1bicsIFtdKVxuLnJ1bihmdW5jdGlvbiAoJHJvb3RTY29wZSwgdGltZUNhcmQsIGFjY3VyYWN5Q2FyZCwgYWNoaWV2ZW1lbnQpIHtcbiAgJHJvb3RTY29wZS5zb2NrZXQgPSBpbygpO1xuICAkcm9vdFNjb3BlLnNvY2tldC5vbigndGltZScsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdGltZUNhcmQuYWRkVGltZShkYXRhKTtcbiAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3RpbWVSZWNlaXZlZCcpO1xuICB9KVxuICAkcm9vdFNjb3BlLnNvY2tldC5vbignYWNjdXJhY3knLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGFjY3VyYWN5Q2FyZC5hZGRBY2N1cmFjeShkYXRhKTtcbiAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2FjY3VyYWN5UmVjZWl2ZWQnKTtcbiAgfSlcbiAgJHJvb3RTY29wZS5zb2NrZXQub24oJ2FjaGlldmVtZW50JywgZnVuY3Rpb24gKG51bSkge1xuICAgIGFjaGlldmVtZW50LmFkZEFjaGlldmVtZW50KG51bSk7XG4gICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdhY2hpZXZlbWVudFJlY2VpdmVkJyk7XG4gIH0pXG59KTtcbiJdLCJmaWxlIjoiQW5ndWxhckFwcC9ydW4uanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==